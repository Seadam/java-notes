## Java 基础05

#### 内容摘要

二维数组，二维数组动态分配内存图解，递归，**栈帧**

---

#### 二维数组

* 每个元素为一维数组的数组
* **用 `,` 隔开每个元素**

```Java
/*
    数据类型[][] 变量名 = new 数据类型[m][n]
    m 表示有多少个一维数组
    n 表示每个一维位数组的元素个数
    逻辑结构是一个矩阵：二维数组中每一个一维数组元素个数相同
*/
	int[][] arrays = new int [3][4];

/*
	数据类型[][] 变量名 = new 数据类型[m][]
	变量名[0] = new 数据类型[n0]
	变量名[1] = new 数据类型[n1]
	...
	变量名[n] = new 数据类型[nn]
	对一维数组单独初始化，可自定义每一个一维数组的元素个数，元素个数灵活
*/
	int[][] nums = new int[2][];
	int[0] = new int[3];
	int[1] = new int[2];

/*
	静态初始化
	只能在声明的时候使用
	数据类型[][] 变量名 = new 数据类型[][]{{元素1, 元素2，元素3}, {元素1，元素2，元素3}}
	简化版本
	数据类型[][] 变量名 = {
						{元素1，元素2，元素3}，
						{元素1，元素2，元素3}
						}
   	可自定义每一个一维数组的元素个数，元素个数灵活
*/
    int[][] matrix = {
                        {1,},
                        {2,4},
                        {3,6,9}
   					 }
```

* 二维数组遍历

  ```Java
  int[][] data = {
    {1,2,3,4},
    {2,3,4},
    {4,5}
  }
  for(int i = 0; i < data.length; i++) {
    for(int j = 0; j < data[i].length; j++) {
      data[i][j];
    }
  }
  ```

#### 二维数组动态分配内存图解

![二维数组动态分配内存图解](http://on-img.com/chart_image/5a5187ece4b0abe85d414fe1.png)

#### 递归

* 方法体中调用方法本身
* `StackOverFlowError` 栈溢出
* 要有出口条件，否则是死递归
* 调用次数不能过多，否则会出现 栈溢出
* 递归 可以转化为 循环

```Java
// n!
public int fun(int n) {
  if(n == 1 || n == 0) {
    return 1;
  }
  return n * fun(n - 1);
}
```

#### Java 内存模型

*  **栈帧** *Stack Frame* 	
  * 方法以及其局部变量所需的内存空间，存放在栈内存中
  * 每调用一个方法，都会为该次调用的方法分配**栈空间**，即分配方法执行时需要的内存空间
  * 方法调用完毕或返回时，才会回收相应的内存空间
  * 当栈空间被填满时，再申请栈空间会产生 **栈溢出**





















